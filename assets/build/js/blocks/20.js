"use strict";(globalThis.webpackChunkomnipress=globalThis.webpackChunkomnipress||[]).push([[20],{5020:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(3453),i=o(6087),r=o(6285),c=o(3367),a=o(1785),s=o(2582),l=o(790);const d=(0,i.memo)((function(e){var t=e.attributes,o=e.setAttributes,d=t.durationStartDate,u=t.countdownDuration,p=t.countdownType,m=t.isSeparator,b=t.separatorType,v=t.timezone,g=(0,i.useState)(0),f=(0,n.A)(g,2),y=f[0],w=f[1],O=[];if((0,i.useEffect)((function(){var e,n,i=(0,c.XZ)(null!=d?d:r.c9.now().toISO(),null!=u?u:{days:1},v),a=i.isStarted,s=i.remainingTime;return a?(e=s.milliseconds,t.isPreview&&(n=setInterval((function(){if(y<=0){var e=(0,c.XZ)(null!=d?d:r.c9.now().toISO(),null!=u?u:{days:1}),t=(e.isStarted,e.remainingTime);w(t.milliseconds)}else w((function(e){return e-1e3}))}),1e3),setTimeout((function(){o({isPreview:!1}),clearInterval(n)}),5e3)),o({isCountdownStart:a}),w(e),"rec"===p?function(){clearInterval(n)}:void clearInterval(n)):(o({messageAfterExpiration:"Starts in : "}),o({isCountdownStart:!1}),o({isPreview:!1}),void(n&&clearInterval(n)))}),[u,d,t.isPreview,v]),(O=(0,c.ZI)(y)).length>0)return O.length>0&&O.map((function(e,n){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.A,{digit:e.digit,digitType:e.digitType,attributes:t,setAttributes:o},e.digitType),n<O.length-1&&m?(0,l.jsx)(s.A,{separatorType:b},"".concat(n,"separator")):""]})}))}))},1785:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(4467),i=o(4715),r=o(6087),c=o(790);function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){(0,n.A)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const l=(0,r.memo)((function(e){var t,o,r=e.attributes,a=e.setAttributes,l=e.digit,d=void 0===l?0:l,u=e.digitType,p=void 0===u?"Hours":u;return(0,c.jsxs)("div",{className:"op-block-countdown__content-container op-block__content-container",children:[r.contentContainer.backgroundImage&&(0,c.jsx)("div",{className:"op-content-container--has-overlay op-block--has-overlay",style:{opacity:Number.isNaN(r.contentContainer.bgOverlayOpacity)?.5:r.contentContainer.bgOverlayOpacity/10,backgroundColor:null!==(t=r.contentContainer.backgroundColor)&&void 0!==t?t:"#0005"}}),r.contentContainer.backgroundImage&&r.contentContainer.backgroundImage.includes(".mp4")?(0,c.jsx)("video",{className:"op-content-container--has-video-overlay op-block--has-video-overlay",style:{objectFit:r.contentContainer.backgroundSize||"contain"},muted:!0,loop:!0,autoPlay:!0,children:(0,c.jsx)("source",{src:r.contentContainer.backgroundImage,type:"video/mp4"})}):"",(0,c.jsxs)("div",{className:"op-block-countdown__content-wrapper",children:[(0,c.jsx)("div",{className:"op-block-countdown__digit op-block__countdown-digits op-block-countdown__digit-".concat(p.toLowerCase()," has-text-color"),children:d}),r.isLabel&&(0,c.jsx)(i.RichText,{className:"op-block-countdown__label-minute op-block-countdown__label op-block__countdown-label",onChange:function(e){return function(e){if((null==e?void 0:e.toLowerCase())===p.toLowerCase()){var t=s({},r.digitType);delete t[p.toLowerCase()],a({digitType:s({},t)})}else a({digitType:s(s({},r.digitType),{},(0,n.A)({},p.toLowerCase(),e))})}(e)},value:null!==(o=r.digitType[p.toLowerCase()])&&void 0!==o?o:p,tagName:"p"})]})]})}))},2582:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(6087),i=o(790);const r=(0,n.memo)((function(e){var t=e.separatorType,o=void 0===t?"colon":t;return(0,i.jsx)("div",{className:"op-block-countdown__divider-wrapper",children:"colon"===o?(0,i.jsxs)("div",{className:"op-block-countdown__divider-colon op-block__divider",children:[" ",":"," "]}):(0,i.jsx)("div",{className:"op-block-countdown__divider-line op-block__divider"})})}))},3367:(e,t,o)=>{o.d(t,{XZ:()=>i,ZI:()=>c,ZM:()=>r});var n=o(6285),i=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTC";!Object.values(t).every((function(e){return 0===e}))&&Object.keys(t).length||(t={days:1,hours:23,minutes:59,seconds:59});var i=n.c9.now();e||(e=i.toISO()),o&&(e=n.c9.fromISO(e).setZone(o,{keepLocalTime:!0}).toString());var r,c,a=n.c9.fromISO(e).toMillis(),s=n.c9.fromISO(i).toMillis(),l=!1,d=n.dw.fromObject(t).as("milliseconds");return a>s?(l=!1,c=n.c9.fromISO(e).toFormat("x")-s):(l=!0,r=i.diff(n.c9.fromISO(e)).toObject().milliseconds%d),r=n.dw.fromMillis(r).toObject(),r=n.dw.fromObject(r).shiftTo("days","hours","minutes","seconds").toObject(),{remainingTime:r=n.dw.fromObject(t).minus(n.dw.fromObject(r)).shiftTo("milliseconds").toObject(),isStarted:l,startsIn:c}};function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=n.c9.now().toFormat("x");t&&(e=n.c9.fromISO(e).setZone(t,{keepLocalTime:!0}).toString());var i=n.c9.fromISO(e).toFormat("x")-o;return i<0?0:i}var c=function(e){var t=Math.floor(e/1e3),o=Math.floor(t/60),n=Math.floor(o/60);return[{digit:Math.floor(n/24),digitType:"Days"},{digit:n%24,digitType:"Hours"},{digit:o%60,digitType:"Minutes"},{digit:t%60,digitType:"Seconds"}]}}}]);